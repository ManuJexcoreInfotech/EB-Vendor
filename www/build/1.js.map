{"version":3,"sources":["../../src/pages/checkout/billing-address-form/billing-address-form.module.ts","../../src/pipes/pipe.module.ts","../../src/pipes/pipe.ts","../../src/pages/checkout/billing-address-form/billing-address-form.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BillingAddressForm } from './billing-address-form';\nimport { KeysPipeModule } from '../../../pipes/pipe.module'\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  declarations: [\n    BillingAddressForm,\n  ],\n  imports: [\n    IonicPageModule.forChild(BillingAddressForm),\n    KeysPipeModule,\n    TranslateModule.forChild()\n  ],\n  exports: [\n    BillingAddressForm\n  ]\n})\nexport class BillingAddressFormModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/checkout/billing-address-form/billing-address-form.module.ts","import { NgModule } from '@angular/core';\nimport { KeysPipe } from './pipe';\n\n@NgModule({\n  declarations: [KeysPipe],\n  exports: [KeysPipe]\n})\nexport class KeysPipeModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipe.module.ts","import { Injectable, Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'keys'\n})\n@Injectable()\nexport class KeysPipe implements PipeTransform{\n  transform(value, args?:string[]): any{\n    let keys = [];\n    for(let key in value){\n      keys.push({key:key, value:value[key]});\n    }\n    return keys;\n  }\n}  \n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipe.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, IonicPage } from 'ionic-angular';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { CheckoutService } from '../../../providers/service/checkout-service';\nimport { Functions } from '../../../providers/service/functions';\nimport { Values } from '../../../providers/service/values';\n\n\n@IonicPage()\n@Component({\n    templateUrl: 'billing-address-form.html'\n})\nexport class BillingAddressForm {\n    billingAddressForm: any;\n    billing: any;\n    regions: any;\n    status: any;\n    errorMessage: any;\n    address: any;\n    form: any;\n    states: any;\n    OrderReview: any;\n    loginData: any;\n    id: any;\n    couponStatus: any;\n    showCreateAccont: boolean = false;\n    buttonSubmit: boolean = false;\n    buttonSubmitLogin: boolean = false;\n    buttonSubmitCoupon: boolean = false;\n    PlaceOrder: any;\n    buttonText1: any;\n    LogIn: any;\n    mydate: any;\n    time: any;\n    date: any;\n    selectedDate: any;\n    shipping: any;\n    order: any;\n    buttonText : any;\n    constructor(public iab: InAppBrowser, public nav: NavController, public service: CheckoutService, params: NavParams, public functions: Functions, public values: Values) {\n        this.PlaceOrder = \"Place Order\";\n        this.buttonText1 = \"Apply\";\n        this.LogIn = \"LogIn\";\n        this.loginData = [];\n        this.form = params.data;\n        this.billing = {};\n        //this.billing.shipping = true;\n        this.billing.save_in_address_book = true;\n        this.getRegion(this.form.billing_country);\n        this.getRegion(this.form.shipping_country);\n        this.form.shipping = true;\n        this.shipping = {};\n        this.shipping.save_in_address_book = true;\n        this.getRegion(this.form.billing_country);\n\n        this.service.getDate()\n           .then((results) => {if(results['success']) this.mydate = results['bookable_dates']});\n\n    }\n\n    getRegion(countryId) {\n        //this.form.billing_state = \"\";\n        this.states = this.form.state[countryId];\n        this.service.updateOrderReview(this.form)\n            .then((results) => this.OrderReview = results);\n    }\n    checkout() {\n        this.buttonSubmit = true;\n        this.PlaceOrder = \"Placing Order\";\n        if (this.form.shipping) {\n            this.form.shipping_first_name = this.form.billing_first_name;\n            this.form.shipping_last_name = this.form.billing_last_name;\n            this.form.shipping_company = this.form.billing_company;\n            this.form.shipping_address_1 = this.form.billing_address_1;\n            this.form.shipping_address_2 = this.form.billing_address_2;\n            this.form.shipping_city = this.form.billing_city;\n            this.form.shipping_country = this.form.billing_country;\n            this.form.shipping_state = this.form.billing_state;\n            this.form.shipping_postcode = this.form.billing_postcode;\n        }\n        if (this.form.payment_method == 'bacs' || this.form.payment_method == 'cheque' || this.form.payment_method == 'cod') {\n            this.service.checkout(this.form)\n                .then((results) => this.handleBilling(results));\n        }\n        else if (this.form.payment_method == 'stripe') {\n            this.service.getStripeToken(this.form)\n                .then((results) => this.handleStripeToken(results));\n        }\n        else {\n            this.service.checkout(this.form)\n                .then((results) => this.handlePayment(results));\n        }\n    }\n    handlePayment(results) {\n        if (results.result == 'success') {\n            let browser = this.iab.create(results.redirect, '_blank', 'location=yes');\n            browser.show();\n            this.values.cart = [];\n            this.values.count = 0;\n            var str = results.redirect;\n            var pos1 = str.lastIndexOf(\"/order-pay/\");\n            var pos2 = str.lastIndexOf(\"?key=wc_order\");\n            var pos3 = pos2 - (pos1 + 11);\n            var order_id = str.substr(pos1 + 11, pos3);\n            console.log(order_id);\n            let theLoop: (i: number) => void = (i: number) => {\n                setTimeout(() => {\n                    this.service.getOrderSummary(order_id)\n                        .then((results) => {\n                            this.order = results;\n                            if (this.order.order.status == \"processing\") {\n                                browser.close();\n                                this.nav.push('OrderSummary', order_id);\n                            }\n                            else if (this.order.order.status == \"pending\") {\n                                --i;\n                                theLoop(i);\n                            }\n                        });\n                }, 15000);\n            };\n            theLoop(10);\n        }\n        else if (results.result == 'failure') {\n            this.functions.showAlert(\"STATUS\", results.messages);\n            this.buttonSubmit = false;\n        }\n    }\n    checkoutStripe() {\n        this.buttonSubmit = true;\n        this.PlaceOrder = \"Placing Order\";\n        this.service.getStripeToken(this.form)\n            .then((results) => this.handleStripeToken(results));\n    }\n    handleStripeToken(results) {\n        if (results.error) {\n            this.buttonSubmit = false;\n            this.PlaceOrder = \"Place Order\";\n            this.functions.showAlert(\"ERROR\", results.error.message);\n        }\n        else {\n            this.service.stripePlaceOrder(this.form, results)\n                .then((results) => this.handleBilling(results));\n                this.buttonSubmit = false;\n        }\n    }\n    handleBilling(results) {\n        if (results.result == \"success\") {\n            var str = results.redirect;\n            var pos1 = str.lastIndexOf(\"order-received/\");\n            var pos2 = str.lastIndexOf(\"?key=wc_order\");\n            var pos3 = pos2 - (pos1 + 15);\n            var order_id = str.substr(pos1 + 15, pos3);\n            this.nav.push('OrderSummary', order_id);\n        }\n        else if (results.result == \"failure\") {\n            this.functions.showAlert(\"ERROR\", results.messages);\n        }\n        this.buttonSubmit = false;\n        this.PlaceOrder = \"Place Order\";\n    }\n    login() {\n        if (this.validateForm()) {\n            this.buttonSubmitLogin = true;\n            this.LogIn = \"Please Wait\";\n            this.service.login(this.form)\n                .then((results) => this.handleResults(results));\n        }\n    }\n    validateForm() {\n        if (this.form.username == undefined || this.form.username == \"\") {\n            return false\n        }\n        if (this.form.password == undefined || this.form.password == \"\") {\n            return false\n        }\n        else {\n            return true\n        }\n    }\n    handleResults(a) {\n        this.buttonSubmitLogin = false;\n        this.LogIn = \"LogIn\";\n        //this.form.shipping = true;\n        if (a.user_logged) {\n            this.form = a;\n            this.states = this.form.state[this.form.billing_country];\n            this.values.isLoggedIn = a.user_logged;\n            this.values.customerName = a.billing_first_name;\n            this.values.customerId = a.user_id;\n            this.values.logoutUrl = a.logout_url;\n        }\n        else {\n            this.functions.showAlert(\"Error\", 'Login unsuccessful. try again');\n        }\n    }\n\n    createAccount() {\n        this.showCreateAccont = true;\n    }\n    changePayment() {\n        this.form.payment_instructions = this.form.payment[this.form.payment_method].description;\n        this.buttonSubmit = false;\n        this.buttonText = \"Continue to \" + this.form.payment[this.form.payment_method].method_title;\n    }\n\n    terms(){\n        this.nav.push('TermsCondition', this.form.terms_content);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/checkout/billing-address-form/billing-address-form.ts"],"sourceRoot":""}